!function () {
  function a(b) {
    var c, d = oa.readyFuncs;
    if (w(b))c = function () {
      L(b)
    }; else {
      if (!v(b))throw Error("argument should be an animation option or a function");
      c = b
    }
    d ? f(oa.readyFuncs, c) : c(a)
  }

  function b(a, b) {
    var c = {};
    return a = a || {}, t(b || {}, function (b, d) {
      c[d] = a.hasOwnProperty(d) ? a[d] : b
    }), c
  }

  function c(a, b) {
    return t(b, u, a), a
  }

  function d(a, b, c, d) {
    v(b) && (b = new b), b = b || {};
    var e, f = a.prototype = Object.create(b);
    if (c)for (var g in c)e = Object.getOwnPropertyDescriptor(c, g), e ? Object.defineProperty(f, g, e) : f[g] = c[g];
    return d && o.forEach(d, function (a, b) {
      Object.defineProperty(f, a, b)
    }), a
  }

  function e(a) {
    if (!(this instanceof e))return new e(a);
    if (a && a.length)for (var b = 0, c = a.length; c > b; b++)this[b] = a[b]
  }

  function f(a, b) {
    var c = a.indexOf(b);
    return -1 == c ? !!a.push(b) : !1
  }

  function g(a, b, c) {
    var d = j(b);
    return a.sort(c ? function (a, b) {
      return d(a) < d(b)
    } : function (a, b) {
      return d(a) > d(b)
    })
  }

  function h(a, b) {
    for (var c, d = 0, e = a.length, f = j(b); e > d; d++)if (f(c = a[d]))return c;
    return void 0
  }

  function i(a, b) {
    var c = a.indexOf(b);
    return c >= 0 ? !!a.splice(c, 1) : !1
  }

  function j(a) {
    return x(a) ? function (b) {
      return b[a]
    } : v(a) ? a : function (a) {
      return a
    }
  }

  function k(a) {
    return v(a) ? a : a && x(a) ? function (b) {
      return b ? b[a] : void 0
    } : function (a) {
      return a
    }
  }

  function l(a, b, c, d, e) {
    var f, g, h = k(b);
    if (void 0 === c && (c = !0), d) {
      for (f = 0, g = a[0]; g; g = a[++f])if (h(g) == c)return e ? f : g
    } else for (f = 0, g = a[0]; g; g = a[++f])if (h(g) === c)return e ? f : g;
    return void 0
  }

  function m(a, b, c, d) {
    var e = a.slice();
    return void 0 === d && (d = a), e.forEach(b, d), a.filter(c, d)
  }

  function n(a, b, c) {
    return a.hasOwnProperty(b) ? f(a[b], c) : a[b] = [c], a
  }

  function o(a) {
    return this instanceof o ? void("object" == typeof a && t(a, function (b, c) {
      var d;
      (d = Object.getOwnPropertyDescriptor(a, c)) ? Object.defineProperty(this, c, d) : this[c] = b
    }, this)) : new o(a)
  }

  function p(a, b, c) {
    return x(b) && b && v(c) && (a.hasOwnProperty(ua) || (a[ua] = {}), n(a[ua], b, c)), a
  }

  function q(a, b, c, d) {
    function e(a) {
      -1 == a.apply(d, c) && h.push(a)
    }

    var f, g, h;
    return a.hasOwnProperty(ua) && (g = (f = a[ua])[b]) ? (c ? c instanceof Array || (c = [c]) : c = [], void 0 === d && (d = a), h = [], (f[b] = m(g, e, function (a) {
      return -1 == h.indexOf(a)
    })).length) : !1
  }

  function r(a, b, c) {
    var d, f;
    return void 0 === b ? delete a[ua] : (d = a[ua]) && (f = d[b]) && f && (c ? e.remove(f, c) : delete d[b]), a
  }

  function s(a, b, c) {
    return v(c) && a.on(b, function () {
      return c.apply(a, arguments), -1
    }), a
  }

  function t(a, b, c, d) {
    if (w(a))if (void 0 == c && (c = a), a instanceof Array)a.forEach(b, c); else for (var e = 0, f = Object.getOwnPropertyNames(a), g = f[0]; g; g = f[++e])b.apply(c, [a[g], g, d]);
    return a
  }

  function u(a, b) {
    this[b] = a
  }

  function v(a) {
    return "function" == typeof a
  }

  function w(a) {
    return "object" == typeof a && a
  }

  function x(a) {
    return "string" == typeof a
  }

  function y() {
  }

  function z(a) {
    for (var b, c, d = 0, e = {}; (b = a.indexOf("{", d)) > -1;)c = a.indexOf("}", b), n(e, a.substring(d, b).trim(), A(a.substring(b + 1, c))), d = c + 1;
    return e
  }

  function A(a, b) {
    var c, d = w(b) ? b : {};
    return a.split(";").forEach(function (a) {
      (a = a.replace(/[\r\n\t\f\s]/g, "")) && (c = a.split(":"), d[c[0]] = c[1])
    }), d
  }

  function B(a) {
    return this instanceof B ? (this.$merge(a), void(this.$invalid = !0)) : new B(a)
  }

  function C(a, b) {
    return w(a) && (b = a.rules.join(";"), a = a.selector), a + "{" + b + "}"
  }

  function D() {
  }

  function E(a) {
    return this instanceof E ? (this.name = a, this.timeline = new F(this), this._updateObjs = [], this._finalizeObjs = [], void(this._global = null)) : new E(a)
  }

  function F(a) {
    this.last = this.now = this._stopTime = 0, this._startTime = this._lastStop = Date.now(), this.task = a, this._isStop = !0
  }

  function G(a) {
    return this instanceof G ? (c(this, b(a, {
      selector: "",
      fillMode: va.REMOVE,
      clock: a.clock || new Q(a)
    })), this._cssHandlerMap = {}, this._matHandlerMap = {}, this._cachedMat = {}, this._immutable = {}, this._variable = {}, this._param = {}, this.current = {}, this.use(a), void this.init()) : new G(a)
  }

  function H(a, b) {
    var c, d;
    if (!(c = a._task)) {
      if (b = b || {}, c = b.task || (d = b.global || oa.global).getTask(b.taskName || a._ltName) || d.defaultTask, !(c instanceof E))throw Error("please specify the render task for animation to restart");
      c.add(a)
    }
    return c
  }

  function I(a, b, c, d) {
    var e = a.clock;
    return e && (e[b](), c && a.emit(c, d)), a
  }

  function J(a) {
    return oa.Promise(function (b, c) {
      function d() {
        b(a)
      }

      a.once(ya, function (a) {
        a && a.global ? a.global.once(ra, d) : d()
      }).once(za, function () {
        c(a)
      })
    })
  }

  function K(a, b) {
    var c, d;
    return b = b || {}, t(a, function (e, f) {
      (c = Object.getOwnPropertyDescriptor(a, f)) && "function" == typeof(d = c.get) ? Object.defineProperty(b, f, {get: d}) : b[f] = e
    }), b
  }

  function L(b) {
    if (!w(b))throw Error("cannot construct an animation");
    var c = a.register[b.animationName];
    return c || (c = G), M(b, new c(b))
  }

  function M(a, b) {
    return (a.renderGlobal || oa.global).getTask(a.taskName, !0).add(b), a.autoStart !== !1 && b.start(), b
  }

  function N(a) {
    for (var b, c = 1, d = arguments[1]; d; d = arguments[++c])Ca.forEach(function (c) {
      v(b = d[c]) ? a[c](b) : w(b) && (P(b) ? t(b, function (b, d) {
        a[c](d, b)
      }) : a[c](b))
    }), a.param(d.param).param(d.variable).param(d.immutable, !0);
    return a
  }

  function O(a) {
    var b, c = {};
    if (2 == a.length)c[a[0]] = a[1]; else if (v(b = a[0]) || !P(b))c["&"] = b; else {
      if (!w(b))throw Error("argument Error");
      c = b
    }
    return c
  }

  function P(a) {
    return w(a) && Object.getOwnPropertyNames(a).some(function (b) {
        var c = typeof a[b];
        return "object" == c || "function" == c
      })
  }

  function Q(a) {
    return this instanceof Q ? void c(this, b(a, {
      duration: 1,
      ease: Q.EASE.linear,
      infinite: !1,
      iteration: 1,
      silent: !1,
      autoReverse: !1,
      delay: 0,
      hold: 0
    })).reset() : new Q(a)
  }

  function R(a, b, c) {
    var d = a.controller;
    a.emit(b, c), d && v(d.emit) && d.emit(b, c)
  }

  function S(a, b) {
    function c() {
      return a.i > 1 || a.infinite ? (a.i--, T(a, f), R(a, Ea, b), void 0) : (a.i = 0, a._holdTime = f, a._status = Na, R(a, Ia, b), S(a, b) || !0)
    }

    var d, e = b.timeline, f = e.now;
    switch (a._status) {
      case Qa:
        return a._initTime = f, R(a, Da, b), a._status = Ma, S(a, b) || !0;
      case Ma:
        return f >= a._initTime + a.delay * e.ticksPerSecond ? (a._status = La, a._activeTime = a._startTime = f, R(a, Ga, b), S(a, b) || !0) : !1;
      case La:
        var g = (f - a._activeTime) / e.ticksPerSecond, h = a.d ? g / a.duration : 1 - g / a.duration;
        return d = a.t, d === h ? !1 : (h > 1 ? a.t = 1 : 0 > h ? a.t = 0 : a.t = h, a.value = a.ease(a.t), R(a, qa, b), a.silent || b.task.invalid(), (h > 1 || 0 > h) && (a._status = Pa, S(a, b)), !0);
      case Pa:
        if (d = a.t, !(d >= 1)) {
          if (a.autoReverse)return c(a.d = 1);
          throw Error("impossible state t=0,autoReverse=false")
        }
        return a.autoReverse ? (a.d = 0, T(a, f), R(a, Fa, b), !1) : c();
      case Na:
        return f >= a._holdTime + a.hold * e.ticksPerSecond ? (a._status = Oa, a._endTime = f, a.emit(ya, b), a.finalize(b.task), !0) : !1
    }
  }

  function T(a, b) {
    a._status = La, a._activeTime = b
  }

  function U(a, b) {
    if (a) {
      b.clock = a;
      var c = S(a, b);
      b.clock = null
    }
    return c
  }

  function V(a) {
    var c = w(a) ? a.tagName : a, d = b(a, {attributes: {}}), e = document.createElement(c);
    return t(d.attributes, function (a, b) {
      e.setAttribute(b, a)
    }), e
  }

  function W(a, b, c, d, e, f) {
    if (!(this instanceof W))return new W(a, b, c, d, e, f);
    var g;
    g = void 0 == a ? [1, 0, 0, 0, 1, 0, 0, 0, 1] : void 0 == b ? a : [a, b, 0, d, e, c, f, 1], this.elements = new Float32Array(g)
  }

  function X(a, b) {
    var c = +a;
    return isNaN(c) ? b : c
  }

  function Y(a, b, c) {
    var d = b, e = a.elements, f = e;
    c ? (e = b, d = f = a.elements) : (d = b, e = f = a.elements);
    var g = d[0], h = d[1], i = d[2], j = d[3], k = d[4], l = d[5], m = d[6], n = d[7], o = d[8], p = e[0], q = e[1], r = e[2], s = e[3], t = e[4], u = e[5], v = e[6], w = e[7], x = e[8];
    return f[0] = g * p + h * s + i * v, f[1] = g * q + h * t + i * w, f[2] = g * r + h * u + i * x, f[3] = j * p + k * s + l * v, f[4] = j * q + k * t + l * w, f[5] = j * r + k * u + l * x, f[6] = m * p + n * s + o * v, f[7] = m * q + n * t + o * w, f[8] = m * r + n * u + o * x, a
  }

  function Z(a) {
    var b = a.createRenderState();
    a.emit(pa, [b]), $(a, b), ba(a, b), a.emit(ra, [b])
  }

  function $(a, b) {
    b.global.emit(qa, [b, a]), t(a._tasks, function (a) {
      _(a, b)
    })
  }

  function _(a, b) {
    function c(a, c) {
      w(a) ? a.disabled || (v(a.update) ? a.update(b) : v(a.emit) && a.emit(qa, b)) : d[c] = void 0
    }

    if (!a.disabled) {
      var d = a._updateObjs;
      b.task = a, (b.timeline = a.timeline).move(), a.update(b), a.emit(qa, b), a._updateObjs = m(d, c, w), b.task = null
    }
  }

  function aa(a) {
    var b = a.cloneNode(!1);
    return a.parentNode.replaceChild(b, a), b
  }

  function ba(a, b) {
    if (a._invalid || b.forceRender) {
      t(a._tasks, function (a) {
        ca(a, b)
      });
      var c = a._styleElement = aa(a._styleElement), d = c.sheet;
      b.styleStack.forEach(function (a, b) {
        d.addRule(a.selector, a.rules.join(";"), b)
      });
      var e = new B, f = d.cssRules.length;
      t(b.transformMap, function (a, b) {
        e.$withPrefix("transform", a + ""), d.addRule(b, e.$toSafeCssString(), f++)
      }), a._invalid = !1
    }
    t(a._tasks, function (a) {
      da(a, b)
    }), a._forceRender = !1
  }

  function ca(a, b) {
    a.disabled || (b.task = a, (a._invalid || b.forceRender) && (a.emit(sa, b), a._updateObjs.forEach(function (a) {
      v(a.render) && !a.disabled && a.render(b)
    }), a._invalid = !1), a.emit(ta, b), b.task = null)
  }

  function da(a, b) {
    var c, d = (b.task = a)._updateObjs, e = a._finalizeObjs;
    a._finalizeObjs = [], e.length && (a.invalid(), e.forEach(function (e) {
      -1 != (c = d.indexOf(e)) && (d[c] = null), e._task == a && (e._task = null), w(e) && v(e.finalize) && e.finalize(b)
    }))
  }

  function ea(a, b) {
    var c = a.clock;
    return b.animation = a, U(c, b) && (a.invalid(), ha(a), a.emit(qa, b)), c.finished && (a._finished = !0, fa(a, b)), b.animatetion = null, !0
  }

  function fa(a) {
    var b = a.fillMode;
    a.fillMode !== va.KEEP && (a.finalize(), b === va.SNAPSHOT && (a.cancelStyle = oa.global.immediate(a.lastStyleText())))
  }

  function ga(a, b) {
    var c = b.styleStack;
    b.animation = a, c.push.apply(c, ia(a)), ja(a, b.transformMap), a.emit(xa, b), a._finished && a.emit(ya, b), b.animation = null
  }

  function ha(a) {
    var b = a.percent, c = a.current = Object.create(a._immutable);
    t(a._variable, function (a, d) {
      c[d] = v(a) ? a(b, c) : isNaN(a) ? a : b * a
    })
  }

  function ia(a, b) {
    var c = a.current, d = [], e = a.selector;
    return t(a._cssHandlerMap, function (f, g) {
      d.push({
        selector: g.replace(/&/g, e), rules: f.map(function (d) {
          return la(d.cb, d.proxy, a, c, b).$toCachedCssString()
        })
      })
    }), d
  }

  function ja(a, b) {
    var c = a.selector, d = a.current;
    t(a._matHandlerMap, function (e, f) {
      var g = f.replace(/&/g, c), h = ka(b, g);
      e.forEach(function (b) {
        h = b.call(a, h, d) || h
      }), b[g] = h
    })
  }

  function ka(a, b) {
    var c = a[b];
    return c || (a[b] = c = new W), c
  }

  function la(a, b, c, d, e) {
    return e || (w(a) ? b.$merge(a) : v(a) ? a.apply(c || b, [b, d]) : x(a) && A(a, b)), b
  }

  function ma(a) {
    return this instanceof ma ? (a = b(a, {defaultTaskName: "default"}), this._tasks = {}, this._defaultTaskName = a.defaultTaskName, this._invalid = !0, this._persistIndies = [], this._persistElement = V({
      tagName: "style",
      attributes: {"data-flip": "frame"}
    }), void(this._styleElement = V({tagName: "style", attributes: {"data-flip": "persist"}}))) : new ma(a)
  }

  function na(b, c, d, e) {
    function f() {
      return g ? (h = null, g()) : void 0
    }

    var g, h = {_cssHandlerMap: {}, selector: x(d) ? d : ""};
    return G.prototype[c].apply(h, [d, e]), a(function () {
      var a = ia(h).map(C).join("");
      g = b.immediate(a)
    }), f
  }

  var oa = {readyFuncs: [], global: null};
  Object.defineProperty(a, "instance", {
    get: function () {
      return oa.global
    }
  }), a.fallback = function (b) {
    b.requestAnimationFrame || (b.requestAnimationFrame = function (a) {
      setTimeout(a, 30)
    }, a.Mat3.prototype.applyContext2D = function (a) {
      var b = this.elements;
      a.transform(b[0], b[1], b[2], b[3], b[4], b[5])
    }), b.Float32Array || (b.Float32Array = d(function (a) {
      if (!(this instanceof arguments.callee))return new arguments.callee(a);
      var b, c, d = 0;
      for ("number" == typeof a ? (b = [0], c = a) : c = (b = a).length, d; c > d; d++)this[d] = b[d] || 0
    }, Array.prototype))
  }, a.css = function (b, c) {
    return a.instance.css(b, c)
  }, a.parseCssText = A, a.parseStyleText = z, a.transform = function (b, c) {
    return a.instance.transform(b, c)
  };
  var pa = "frameStart", qa = "update", ra = "frameEnd", sa = "renderStart", ta = "renderEnd";
  a.util = {Object: o, Array: e, inherit: d};
  var ua = "_callbacks";
  e.remove = i, e.add = f, e.first = h, e.findBy = l, e.sort = g, d(e, Array, {
    add: function (a) {
      return f(this, a)
    }, findBy: function (a, b, c) {
      return l(this, a, b, c)
    }, remove: function (a) {
      return i(this, a)
    }, first: function (a) {
      return h(this, a)
    }
  }), o.on = p, o.emit = q, o.off = r, o.once = s, o.forEach = t, d(o, null, {
    on: function (a, b) {
      return p(this, a, b)
    }, emit: function (a, b, c) {
      return q(this, a, b, c)
    }, off: function (a, b) {
      return r(this, a, b)
    }, once: function (a, b) {
      return s(this, a, b)
    }, forEach: function (a, b, c) {
      return t(this, a, b, c)
    }
  }), "undefined" != typeof module && module.exports ? module.exports = a : "undefined" != typeof define ? define(function () {
    return a
  }) : window && (window.Flip = a), a.CssProxy = B, function () {
    function b(a) {
      return isNaN(a) ? a : Number(a).toFixed(5).replace(/\.0+$/, "")
    }

    function c(a) {
      var c, d = arguments;
      return a.replace(/\$\{(\d+)}/g, function (a, e) {
        return void 0 == (c = d[e]) ? a : b(c)
      })
    }

    function d(a) {
      var b = typeof a;
      return "string" == b || "number" == b ? a : void 0
    }

    function e(a) {
      return a.replace(/[A-Z]/g, function (a) {
        return "-" + a.toLowerCase()
      })
    }

    function f(a, b, c) {
      b.forEach(function (b) {
        Object.defineProperty(a, b, c)
      })
    }

    var g, h = "$$", i = Object.getOwnPropertyNames(document.documentElement.style), j = [], k = B.prototype = {
      $styleText: function (a, b) {
        return C(a, this.$toSafeCssString(b))
      }, $toCachedCssString: function (a) {
        return this.$invalid && (this.$cachedCssString = this.$toSafeCssString(), this.$invalid = !!a), this.$cachedCssString
      }, $toSafeCssString: function (a) {
        var c = [];
        return t(this, function (a, d) {
          var e = j.indexOf(d);
          e > -1 && void 0 !== a && c.push(i[e] + ":" + b(a))
        }), c.join(";" + (a || ""))
      }, toString: function () {
        return this.$toSafeCssString()
      }, $withPrefix: function (a, b, c) {
        var d = this;
        return (c || g).forEach(function (c) {
          d[c + a] = b
        }), d
      }, $merge: function (a) {
        return w(a) && a !== this && t(a, u, this), this
      }, $template: c
    };
    i = i.map(function (a) {
      function b() {
        return this[g]
      }

      function c(a) {
        var b = d(a);
        b != this[g] && (this.$invalid = !0, this[g] = b)
      }

      var g = h + a, i = e(a);
      return j.push(g), f(k, [a, /^(webkit|moz|o|ms)[A-Z]/.test(a) ? "-" + i : i], {get: b, set: c}), e(a)
    }), g = ["-moz-", "-ms-", "-webkit-", "-o-", ""].filter(function (a) {
      var b = a.substring(1);
      return i.some(function (a) {
        return 0 == a.indexOf(b)
      })
    }), a.stringTemplate = k.$t = c
  }(), d(a.Render = D, a.util.Object, {
    update: function () {
    }, render: function () {
    }, finalize: function () {
    }, invalid: function () {
      var a, b;
      (a = this._task) ? a.invalid() : (b = this.parent) && b.invalid(), this._invalid = !0
    }
  }), a.RenderTask = E, d(E, a.util.Object, {
    update: y, invalid: function () {
      var a;
      this._invalid = !0, (a = this._global) && a.invalid()
    }, toFinalize: function (a) {
      return this._updateObjs.indexOf(a) > -1 && f(this._finalizeObjs, a)
    }, add: function (a, b) {
      if (a._task)throw Error("_task has been taken");
      return "update" == b ? f(this._updateObjs, a) : ((a instanceof Q || a instanceof D) && f(this._updateObjs, a) && (a._task = this), void this.invalid())
    }, remove: function (a) {
      (a._task == this || this._updateObjs.indexOf(a) > -1) && (a._task = null, this.toFinalize(a), this.invalid())
    }
  }), d(F, a.util.Object, {
    ticksPerSecond: 1e3, stop: function () {
      this._isStop || (this._isStop = !0, this._lastStop = Date.now())
    }, start: function () {
      this._isStop && (this._isStop = !1, this._stopTime += Date.now() - this._lastStop)
    }, move: function () {
      this._isStop || (this.last = this.now, this.now = Date.now() - this._startTime - this._stopTime)
    }
  });
  var va = G.FILL_MODE = {REMOVE: "remove", SNAPSHOT: "snapshot", KEEP: "keep"};
  d(G, D, {
    get percent() {
      return this.clock.value || 0
    }, set clock(a) {
      var b = this._clock;
      if (a = a || null, b != a) {
        if (b && a)throw Error("remove the animation clock before add a new one");
        this._clock = a, a ? a.controller = this : b && (b.controller = null)
      }
    }, get clock() {
      return this._clock
    }, get promise() {
      return this._promise || (this._promise = J(this))
    }, get finished() {
      return this._finished
    }, get id() {
      return this._id || (this._id = Wa("Animation" + this.type)), this._id
    }, get elements() {
      return a.$(this.selector)
    }, init: function () {
      this._promise = null, this._canceled = this._finished = !1, this.invalid()
    }, reset: function (a) {
      var b;
      return (b = this.clock) && b.reset(1), a || this.init(), this
    }, use: function (a) {
      return N(this, a), this
    }, param: function (a, b, c) {
      return w(a) ? K(a, this[b ? "_immutable" : "_variable"]) : x(a) && (this[c ? "_immutable" : "_variable"][a] = b), this
    }, transform: function (a, b) {
      var c = this._matHandlerMap;
      return t(O(arguments), function (a, b) {
        var d;
        if (a instanceof W)d = function (b) {
          return b.concat(a)
        }; else {
          if (!v(a))throw Error("callback expect function or mat");
          d = function (b, c) {
            return a.apply(this, [b, c]) || b
          }
        }
        n(c, b, d)
      }), this
    }, css: function (a, b) {
      var c = this._cssHandlerMap;
      return t(O(arguments), function (a, b) {
        n(c, b, {cb: a, proxy: new B})
      }), this
    }, update: function (a) {
      ea(this, a)
    }, render: function (a) {
      ga(this, a)
    }, invalid: function () {
      this._task && this._task.invalid()
    }, finalize: function () {
      var a;
      return (a = this._task) ? (this._ltName = a.name, a.toFinalize(this)) : this._canceled || (this.reset(1), this.emit(wa)), this
    }, start: function () {
      return H(this), this._canceled ? this.restart() : I(this, "start")
    }, resume: function (a) {
      return I(this, "resume", Ba, a)
    }, pause: function (a) {
      return I(this, "pause", Aa, a)
    }, cancel: function (a) {
      var b;
      return this._canceled || this._finished || ((b = this._task) && (this._ltName = b.name), this._canceled = !0, this.emit(za, a), this.finalize()), this
    }, restart: function (a) {
      return H(this, a), this.clock.reset(), this.init(), this.start()
    }, then: function (a, b) {
      return this.promise.then(a, b)
    }, lastStyleText: function (a) {
      return ia(this, !0).map(C).join(a)
    }
  });
  var wa = "finalize", xa = "render", ya = "finish", za = "cancel", Aa = "pause", Ba = "resume";
  a.animate = L, a.register = function () {
    function a(c) {
      var e, f, g = c.name;
      return e = c.beforeCallBase || b, f = function (a) {
        if (!(this instanceof f))return new f(a);
        var b = K(a, K(c, {}));
        e.call(this, b, a), G.call(this, b), (c.afterInit || y).call(this, b, a)
      }, g && (a[g] = f), d(f, G.prototype, {
        type: g, use: function (a) {
          return N(this, c, a)
        }
      }), f
    }

    function b(a, b) {
      return a
    }

    return a
  }();
  var Ca = ["transform", "css", "on", "once"];
  a.Animation = G, a.Clock = Q;
  var Da = "init", Ea = "iterate", Fa = "reverse", Ga = "start", Ha = "controllerChange", Ia = "hold", Ja = 0, Ka = 1, La = 2, Ma = 3, Na = 4, Oa = 5, Pa = 6, Qa = 7, Ra = 8;
  d(Q, o, {
    get controller() {
      return this._controller || null
    }, set controller(a) {
      var b = this.controller;
      a = a || null, b !== a && (this._controller = a, this.emit(Ha, {before: b, after: a, clock: this}))
    }, get started() {
      return -1 !== this._startTime
    }, get finished() {
      return this._status == Oa
    }, get paused() {
      return this._status == Ka
    }, get ease() {
      return this._tf
    }, set ease(a) {
      var b;
      (v(b = a) || (b = Q.EASE[a])) && (this._tf = b)
    }, start: function () {
      return this._status == Ja && (this._status = Qa), !1
    }, restart: function () {
      return this.reset().start()
    }, reset: function () {
      return this._status = Ja, this.d = 1, this.i = this.iteration, this._endTime = this._initTime = this._activeTime = this._startTime = this._holdTime = this._pausedTime = 0, this
    }, pause: function () {
      this._status !== Ka && (this._lastStatus = this._status, this._status = Ka, R(this, Aa))
    }, resume: function () {
      this._status == Ka && (this._status = this._lastStatus, R(this, Ba))
    }, cancel: function () {
      this._status !== Ra && (this._status = Ra, this.finalize(), this.controller && this.controller.cancel(), this.emit(za))
    }, finalize: function () {
      var a = this._task;
      a instanceof E ? a.toFinalize(this) : this.emit(wa)
    }, update: function (a) {
      this.finished ? this.finalize() : U(this, a)
    }
  }), a.EASE = Q.EASE = function () {
    var a = {
      linear: function (a) {
        return a
      }, zeroStep: function (a) {
        return 0 >= a ? 0 : 1
      }, halfStep: function (a) {
        return .5 > a ? 0 : 1
      }, oneStep: function (a) {
        return a >= 1 ? 1 : 0
      }, random: function () {
        return Math.random()
      }, randomLimit: function (a) {
        return Math.random() * a
      }
    }, b = Math.pow, c = Math.PI;
    return function (b) {
      t(b, function (b, c) {
        var d = b;
        a[c + "In"] = d, a[c + "Out"] = function (a) {
          return 1 - d(1 - a)
        }, a[c + "InOut"] = function (a) {
          return .5 > a ? d(2 * a) / 2 : 1 - d(-2 * a + 2) / 2
        }
      })
    }({
      back: function (a) {
        return a * a * (3 * a - 2)
      }, elastic: function (a) {
        return 0 === a || 1 === a ? a : -b(2, 8 * (a - 1)) * Math.sin((80 * (a - 1) - 7.5) * c / 15)
      }, sine: function (a) {
        return 1 - Math.cos(a * c / 2)
      }, circ: function (a) {
        return 1 - Math.sqrt(1 - a * a)
      }, cubic: function (a) {
        return a * a * a
      }, expo: function (a) {
        return 0 == a ? 0 : b(2, 10 * (a - 1))
      }, quad: function (a) {
        return a * a
      }, quart: function (a) {
        return b(a, 4)
      }, quint: function (a) {
        return b(a, 5)
      }, bounce: function (a) {
        for (var c, d = 4; a < ((c = b(2, --d)) - 1) / 11;);
        return 1 / b(4, 3 - d) - 7.5625 * b((3 * c - 2) / 22 - a, 2)
      }
    }), Object.freeze(a)
  }(), function (a) {
    function b(a, b) {
      return e.apply((b || document).querySelectorAll(a))
    }

    function c(a, b) {
      return (b || document).querySelector(a)
    }

    function d() {
      var b = oa.readyFuncs;
      oa.global.init(), oa.readyFuncs = null, b.forEach(function (b) {
        b(a)
      })
    }

    var e = Array.prototype.slice;
    a.$$ = b, a.$ = c, a.ele = V, "loading" !== document.readyState && setTimeout(d, 0), document.addEventListener("DOMContentLoaded", d)
  }(a);
  var Sa = Math.sin, Ta = Math.cos, Ua = Math.tan, Va = function () {
    function a(a) {
      return (+a).toFixed(5)
    }

    var b = [0, 1, 3, 4, 6, 7];
    return function (c) {
      return b.map(function (b) {
        return a(c[b])
      })
    }
  }();
  a.Mat3 = W, W.prototype = {
    print: function () {
      for (var a = this.elements, b = [], c = 0; 3 > c; c++) {
        for (var d = 0; 3 > d; d++)b.push(a[d + 3 * c].toFixed(2));
        b.push("\n")
      }
      return b.join(" ")
    }, reset: function (a) {
      return this.elements = new Float32Array(a), this
    }, set: function (a, b, c) {
      return this.elements[3 * a + b] = c, this
    }, concat: function (a) {
      var b = a instanceof W ? a.elements : a;
      return Y(this, b)
    }, axonProject: function (a, b) {
      a = a || 0, b = b || 0;
      var c = Ta(a), d = Sa(a), e = Ta(b), f = Sa(b);
      return Y(this, [e, d * f, 0, 0, c, 0, f, -e * d, 0], 1)
    }, obliqueProject: function (a, b) {
      b = b || 0, a = a || 0;
      var c = 1 / Ua(a), d = Sa(b) * c, e = Ta(b) * c;
      return Y(this, [1, 0, 0, 0, 1, 0, e, d, 0], 1)
    }, toString: function () {
      return "matrix(" + Va(this.elements).join(",") + ")"
    }, applyContext2D: function (a) {
      return a.transform.apply(a, Va(this.elements)), this
    }, clone: function () {
      return new W(this.elements)
    }, scale: function (a, b) {
      return Y(this, [X(a, 1), 0, 0, 0, X(b, 1), 0, 0, 0, 1])
    }, skew: function (a) {
      return Y(this, [1, Ua(a), 0, Ua(a || 0), 1, 0, 0, 0, 1])
    }, transform: function (a, b, c, d, e, f) {
      return Y(this, [a, c, 0, b, d, 0, e || 0, f || 0, 1])
    }, translate: function (a, b, c) {
      return Y(this, [1, 0, 0, 0, 1, 0, a || 0, b || 0, X(c, 1)])
    }, flip: function (a, b, c) {
      var d = Sa(a), e = Ta(a);
      return c = c || .6, Y(this, b ? [1, 0, 0, -d * c, e, 0, 0, 0, 1] : [e, d * c, 0, 0, 1, 0, 0, 0, 1])
    }, rotate: function (a) {
      return this.rotateZ(a)
    }, rotateX: function (a) {
      var b = Sa(a), c = Ta(a);
      return Y(this, [1, 0, 0, 0, c, b, 0, -b, c])
    }, rotateY: function (a) {
      var b = Sa(a), c = Ta(a);
      return Y(this, [c, 0, -b, 0, 1, 0, b, 0, c])
    }, rotateZ: function (a) {
      var b = Sa(a), c = Ta(a);
      return Y(this, [c, b, 0, -b, c, 0, 0, 0, 1])
    }
  }, function (a) {
    function b(a) {
      m ? a() : setTimeout(a, 0)
    }

    function c(a) {
      return this instanceof c ? (this.then = a.then, void(this.get = a.get)) : new c(a)
    }

    function d(a) {
      if (a instanceof G)return a.promise;
      if (a instanceof Array)return g.all(a.map(d));
      if (j(a))return a;
      if (!n)return l(a);
      throw Error("cannot cast to promise")
    }

    function e(a) {
      return j(a) ? a : new c({
        then: function (b) {
          try {
            return e(d(i(b(a))))
          } catch (a) {
            return f(a)
          }
        }, get: function (b) {
          return b ? a[b] : a
        }
      })
    }

    function f(a) {
      return j(a) ? a : new c({
        then: function (b, c) {
          try {
            return e(c(a))
          } catch (a) {
            return f(a)
          }
        }, get: function (b) {
          return b ? a[b] : a
        }
      })
    }

    function g(a) {
      function d(a) {
        try {
          k(i(a))
        } catch (a) {
          k(void 0, a)
        }
      }

      function j(a) {
        k(void 0, a || new Error(""))
      }

      function k(a, c) {
        if (!o) {
          n = void 0 == c ? e(a) : f(c), o = !0;
          for (var d = 0, g = p.length; g > d; d++)b(function (a, b) {
            return function () {
              var c = n.then.apply(n, a);
              b && c.then.apply(c, b)
            }
          }(p[d], q[d]));
          p = q = void 0
        }
      }

      function m(a, b) {
        q.push([a, b])
      }

      if (!(this instanceof g))return new g(a);
      var n, o, p = [], q = [];
      return "function" != typeof a ? i(a) : (a(d, j), new c({
        then: function (a, b) {
          var c = [h(a, function (a) {
            return a
          }), h(b, function (a) {
            throw a
          })];
          return n ? l(n.then.apply(n, c)) : (p.push(c), new g(function (a, b) {
            m(a, b)
          }))
        }, get: function (a) {
          return n ? n.get(a) : void 0
        }
      }))
    }

    function h(a, b) {
      var c;
      return "object" == (c = typeof a) ? function () {
        return a
      } : "function" === c ? a : b
    }

    function i(b) {
      var c;
      if (n) {
        if (b instanceof G)return b._finished ? b : b.promise;
        if ("object" == (c = typeof b))return j(b) ? b : b instanceof Array ? b.map(i) : a.animate(b).promise;
        if ("function" == typeof c)return i(b());
        throw Error("cannot cast to animation")
      }
      return b
    }

    function j(a) {
      return a instanceof c
    }

    function k(a) {
      return new g(function (b, c) {
        function d(a, d, h) {
          if (!h)try {
            g[d] = a instanceof G ? a : i(a)
          } catch (a) {
            h = a
          }
          h && (e = !0, g[d] = h), 1 == f ? e ? c(g) : b(g) : f--
        }

        var e, f, g = new Array(f = a.length);
        a.forEach(function (a, b) {
          a.then(function (a) {
            d(a, b)
          }, function (a) {
            d(a, b, !0)
          })
        })
      })
    }

    function l(a) {
      return g(function (b) {
        b(a)
      })
    }

    var m, n = !0;
    g.all = k, g.defer = function () {
      var a = {};
      return a.promise = g(function (b, c) {
        a.resolve = b, a.reject = c
      }), a
    }, g.resolve = l, g.reject = function (a) {
      return g(function (b, c) {
        c(a)
      })
    }, g.digest = function (a) {
      return g(function (b, c) {
        a.then(b, c)
      })
    }, g.option = function (a) {
      a && (n = !!a.acceptAnimationOnly, m = !!a.sync)
    }, oa.Promise = a.Promise = g
  }(a), a.RenderGlobal = ma, d(ma, a.util.Object, {
    get defaultTask() {
      var a = this._defaultTaskName, b = this._tasks[a];
      return b || this.add(b = new E(a)), b
    }, getTask: function (a, b) {
      if (!a)return this.defaultTask;
      var c = this._tasks[a];
      return !c && b && (c = new E(a), this.add(c)), c
    }, add: function (a) {
      var b, c;
      if (a instanceof E) {
        if (!(b = a.name))throw Error("task must has a name");
        if ((c = this._tasks).hasOwnProperty(b))throw Error("contains same name task");
        if (c[b] = a)return a._global = this, a.timeline.start(), this.invalid()
      } else if (w(a))return this.defaultTask.add(a);
      return !1
    }, immediate: function (a) {
      function b() {
        return d ? (d.deleteRule(c), d.insertRule("*{}", c), d = null, e.push(c), !(c = -1) + 1) : void 0
      }

      if (!a)return y;
      var c, d = this._persistElement.sheet, e = this._persistIndies;
      return e.length ? (c = e.pop(), d.deleteRule(c)) : c = d.rules.length, d.insertRule(a, c), b
    }, refresh: function () {
      this._foreceRender = !0
    }, init: function () {
      if ("object" == typeof window) {
        var b = document.head;
        this._styleElement.parentNode || (b.appendChild(this._styleElement), b.appendChild(this._persistElement)), a.fallback(window), this.loop()
      }
      this.init = function () {
        console.warn("The settings have been initiated,do not init twice")
      }
    }, invalid: function () {
      return this._invalid = !0
    }, loop: function (a) {
      Z(this), window.requestAnimationFrame(this.loop.bind(this), a || window.document.body)
    }, createRenderState: function () {
      return {global: this, task: null, styleStack: [], forceRender: this._foreceRender, transformMap: {}}
    }, css: function (a, b) {
      return na(this, "css", a, b)
    }, transform: function (a, b) {
      return na(this, "transform", a, b)
    }
  }), oa.global = new ma;
  var Wa = function (a) {
    return function (b) {
      return a[b] || (a[b] = 1), a[b]++
    }
  }({})
}();
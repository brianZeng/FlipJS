!function(){function a(b){var c,d=ib.readyFuncs;if(u(b))c=function(){G(b)};else{if(!t(b))throw Error("argument should be an animation option or a function");c=b}d?e(ib.readyFuncs,c):c(a)}function b(a){var b,c,d={},e=typeof a;return b="function"==e?a.proxy:"object"==e?a:{},c=function(){for(var a,c,e,f=0,g=arguments.length;g>f;f+=2)c=arguments[f],e=arguments[f+1],b.hasOwnProperty(c)?a=b[c]:(a=e,delete b[c]),d[c]=a;return 1==g?a:void 0},c.source=function(){if(1==arguments.length)return b[arguments[0]];for(var a,c=0,d=arguments.length;d>c;c+=2)a=arguments[c],b.hasOwnProperty(a)||(b[a]=arguments[c+1]);return b[arguments[0]]},c.result=d,c.proxy=b,c}function c(a,b,c,d){"function"==typeof b&&(b=new b),b=b||{};var e,f=a.prototype=Object.create(b);if(c)for(var g in c)e=Object.getOwnPropertyDescriptor(c,g),e?Object.defineProperty(f,g,e):f[g]=c[g];return d&&m.forEach(d,function(a,b){Object.defineProperty(f,a,b)}),a}function d(a){if(!(this instanceof d))return new d(a);if(a&&a.length)for(var b=0,c=a.length;c>b;b++)this[b]=a[b]}function e(a,b){var c=a.indexOf(b);return-1==c?!!a.push(b):!1}function f(a,b,c){var d=i(b);return a.sort(c?function(a,b){return d(a)<d(b)}:function(a,b){return d(a)>d(b)})}function g(a,b){for(var c,d=0,e=a.length,f=i(b);e>d;d++)if(f(c=a[d]))return c}function h(a,b){var c=a.indexOf(b);return c>=0?!!a.splice(c,1):!1}function i(a){var b=typeof a;return"string"===b?function(b){return b[a]}:"function"===b?a:function(a){return a}}function j(a){return"function"==typeof a?a:a&&"string"==typeof a?function(b){return b?b[a]:void 0}:function(a){return a}}function k(a,b,c,d,e){var f,g,h=j(b);if(void 0===c&&(c=!0),d){for(f=0,g=a[0];g;g=a[++f])if(h(g)==c)return e?f:g}else for(f=0,g=a[0];g;g=a[++f])if(h(g)===c)return e?f:g;return void 0}function l(a,b,c){var d=a.slice();return void 0==c&&(c=a),d.filter(b,c).filter(function(b){return a.indexOf(b)>-1}).concat(a.filter(function(a){return-1==d.indexOf(a)}))}function m(a){return this instanceof m?void("object"==typeof a&&r(a,function(b,c){var d;(d=Object.getOwnPropertyDescriptor(a,c))?Object.defineProperty(this,c,d):this[c]=b},this)):new m(a)}function n(a,b,c){if("string"==typeof b&&b&&"function"==typeof c){var d,f;a.hasOwnProperty("_callbacks")||(a._callbacks={}),d=a._callbacks,(f=d[b])||(f=d[b]=[]),e(f,c)}return a}function o(a,b,c,d){var e,f;return a.hasOwnProperty("_callbacks")&&(f=(e=a._callbacks)[b])?(c?c instanceof Array||(c=[c]):c=[],void 0===d&&(d=a),(e[b]=l(f,function(a){return-1!=a.apply(d,c)})).length):!1}function p(a,b,c){var e,f;return void 0===b?delete a._callbacks:(e=a._callbacks)&&(f=e[b])&&f&&(c?d.remove(f,c):delete e[b]),a}function q(a,b,c){return"function"==typeof c&&a.on(b,function(){return c.apply(a,arguments),-1}),a}function r(a,b,c,d){if(u(a))if(void 0==c&&(c=a),a instanceof Array)a.forEach(b,c);else for(var e=0,f=Object.getOwnPropertyNames(a),g=f[0];g;g=f[++e])b.apply(c,[a[g],g,d]);return a}function s(a,b){this[b]=a}function t(a){return"function"==typeof a}function u(a){return"object"==typeof a&&a}function v(){}function w(a){return this instanceof w?void this.merge(a):new w(a)}function x(){}function y(a){return this instanceof y?(this.name=a,this.timeline=new A(this),this._updateObjs=[],this._finalizeObjs=[],void(this._global=null)):new y(a)}function z(a){return!u(a)||a.disabled?!1:(t(a.update)?a.update(this):t(a.emit)&&a.emit(y.EVENT_NAMES.UPDATE,this),!0)}function A(a){this.last=this.now=this._stopTime=0,this._startTime=this._lastStop=Date.now(),this.task=a,this._isStop=!0}function B(a){if(!(this instanceof B))return new B(a);var b=B.createOptProxy(a).result;this.selector=b.selector||Error("Elements selector required"),this.clock=b.clock,this.persistAfterFinished=b.persistAfterFinished,this._cssMap={},this._matCallback={},this._cssCallback={},this._immutable={},this._variable={},this._param={},this.current={},this.use(a),this.init()}function C(a,b){var c,d;if(!(c=a._task)){if(b=b||{},c=b.task||(d=b.global||ib.global).getTask(b.taskName||a._ltName)||d.defaultTask,!(c instanceof y))throw Error("please specify the render task for animation to restart");c.add(a)}return c}function D(a,b,c,d){var e=a.clock;return e&&(e[b](),c&&a.emit(c,d)),a}function E(a){return ib.Promise(function(b,c){function d(){b(a)}a.once(jb.FINISH,function(a){a&&a.global?a.global.once("frameEnd",d):d()}).once(jb.CANCEL,function(){c(a)})})}function F(a,b){var c,d;return b=b||{},r(a,function(e,f){(c=Object.getOwnPropertyDescriptor(a,f))&&"function"==typeof(d=c.get)?Object.defineProperty(b,f,{get:d}):b[f]=e}),b}function G(b){if(!u(b))throw Error("cannot construct an animation");var c=a.animation[arguments[0].animationType];return b=arguments[0],c||(c=B),H(G.createOptProxy(b).result,new c(b))}function H(a,b){return(a.renderGlobal||ib.global).getTask(a.taskName,!0).add(b),a.autoStart!==!1&&b.start(),b}function I(a){for(var b,c=1,d=arguments[1];d;d=arguments[++c])I.pros.forEach(function(c){t(b=d[c])?a[c](b):u(b)&&(K(b)?r(b,function(b,d){a[c](d,b)}):a[c](b))}),a.param(d.param).param(d.variable).param(d.immutable,!0);return a}function J(a){var b,c={};if(2==a.length)c[a[0]]=a[1];else if(t(b=a[0])||!K(b))c["&"]=b;else{if(!u(b))throw Error("argument Error");c=b}return c}function K(a){return u(a)&&Object.getOwnPropertyNames(a).some(function(b){var c=typeof a[b];return"object"==c||"function"==c})}function L(a){return this instanceof L?(r(L.createOptProxy(a,1,L.EASE.linear,0,1,0,0).result,s,this),void this.reset(1,0,0,0)):new L(a)}function M(a,b,c){var d=a.controller;a.emit(b,c),d&&t(d.emit)&&d.emit(b,c)}function N(a,b){if(a&&!a.finished){var c=b.timeline;if(b.clock=a,-1==a._startTime)return a._startTime=c.now,M(a,kb[a.d?a.i==a.iteration?"INIT":"ITERATE":"REVERSE"],b),!0;if(a._paused){var d=a._pausedTime;return-1==d?a._pausedTime=c.now:a._pausedDur=c.now-d,!1}var e,f=(c.now-a._startTime)/c.ticksPerSecond-(a._delayed?0:a.delay);if(f>0){var g,h=a.value;return a._delayed||(a._delayed=1,a._startTime+=a.delay*c.ticksPerSecond,M(a,kb.START,b)),g=a.t=a.d?f/a.duration:1-f/a.duration,g>1?g=a.t=1:0>g&&(g=a.t=0),e=a.value=a.ease(g),h!=e&&a.emit(kb.TICK,b),1==g?a.end(b):0==g&&a.iterate(b),b.task.invalid(),!0}b.clock=null}}function O(a,b,c,d,e,f){if(!(this instanceof O))return new O(a,b,c,d,e,f);var g;g=void 0==a?[1,0,0,0,1,0,0,0,1]:void 0==b?a:[a,b,0,d,e,c,f,1],this.elements=new Float32Array(g)}function P(a,b){var c=+a;return isNaN(c)?b:c}function Q(a,b,c){var d=b,e=a.elements,f=e;c?(e=b,d=f=a.elements):(d=b,e=f=a.elements);var g=d[0],h=d[1],i=d[2],j=d[3],k=d[4],l=d[5],m=d[6],n=d[7],o=d[8],p=e[0],q=e[1],r=e[2],s=e[3],t=e[4],u=e[5],v=e[6],w=e[7],x=e[8];return f[0]=g*p+h*s+i*v,f[1]=g*q+h*t+i*w,f[2]=g*r+h*u+i*x,f[3]=j*p+k*s+l*v,f[4]=j*q+k*t+l*w,f[5]=j*r+k*u+l*x,f[6]=m*p+n*s+o*v,f[7]=m*q+n*t+o*w,f[8]=m*r+n*u+o*x,a}function R(a){var b=a.createRenderState();a.emit(hb.EVENT_NAMES.FRAME_START,[b]),S(a,b),U(a,b),a.emit(hb.EVENT_NAMES.FRAME_END,[b])}function S(a,b){b.global.emit(hb.EVENT_NAMES.UPDATE,[b,a]),r(a._tasks,function(a){T(a,b)}),a.apply()}function T(a,b){if(!a.disabled){var c=[b,b.task=a];(b.timeline=a.timeline).move(),a.update(b),a.emit(y.EVENT_NAMES.UPDATE,c),a._updateObjs=l(a._updateObjs,z,b)}}function U(a,b){(a._invalid||b.forceRender)&&(r(a._tasks,function(a){V(a,b)}),a._styleElement.innerHTML=b.styleStack.join("\n"),ib.forceRender=a._invalid=!1),r(a._tasks,function(a){W(a,b)})}function V(a,b){if(!a.disabled){var c=[b,b.task=a];(a._invalid||b.forceRender)&&(a.emit(y.EVENT_NAMES.RENDER_START,c),a._updateObjs.forEach(function(a){t(a.render)&&!a.disabled&&a.render(b)}),a._invalid=!1),a.emit(y.EVENT_NAMES.RENDER_END,c)}}function W(a,b){var c,d=(b.task=a)._updateObjs,e=a._finalizeObjs;e.length&&(a.invalid(),e.forEach(function(e){-1!=(c=d.indexOf(e))&&(d[c]=null),e._task==a&&(e._task=null),u(e)&&t(e.finalize)&&e.finalize(b)}),a._finalizeObjs=[])}function X(a){a.persistAfterFinished||a.finalize()}function Y(a,b){var c=a.clock;return b.animation=a,N(c,b)&&(a.invalid(),$(a),a.emit(jb.UPDATE,b)),c.finished&&(a._finished=!0,X(a)),b.animatetion=null,!0}function Z(a,b){b.animation=a,_(a),b.styleStack.push(fb(a)),a.emit(jb.RENDER,b),a._finished&&a.emit(jb.FINISH,b),b.animation=null}function $(a){var b=a.percent,c=a.current=Object.create(a._immutable);r(a._variable,function(a,d){c[d]=t(a)?a(b,c):isNaN(a)?a:b*a})}function _(a){var b,c=a._cssMap={},d=a.current;r(a._cssCallback,function(e,f){b=new w,e.forEach(function(c){ab(c,a,b,d)}),gb(c,f,b)}),r(a._matCallback,function(e,f){var g=new O,h=[g,d];b=new w,e.forEach(function(b){g=b.apply(a,h)||g}),b.withPrefix("transform",g.toString()),gb(c,f,b)})}function ab(a,b,c,d){var e=c||new w,f=[e,d];return u(a)?r(a,s,e):t(a)&&(e=a.apply(b,f)||e),e}function bb(a){return isNaN(a)?a:Number(a).toFixed(5).replace(/\.0+$/,"")}function cb(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})}function db(a,b,c,d){var e=[];return r(a,function(a,b){e.push(cb(b)+":"+bb(a)+";")}),!e.length&&d?"":(c=c||"\n",b+"{"+c+e.join(c)+c+"}")}function eb(a,b,c){var d=b[a];d?e(d,c):b[a]=[c]}function fb(a){var b=[],c=a.selector||"";return r(a._cssMap,function(a,d){b.push(db(a,d.replace(/&/g,c)))}),a.lastStyleRule=b.join("\n")}function gb(a,b,c){var d=a[b];d?d.merge(c):a[b]=c}function hb(a){return this instanceof hb?(a=a||{},this._tasks={},this._defaultTaskName=a.defaultTaskName||"default",this._invalid=!0,this._persistStyles={},this._persistElement=document.createElement("style"),void(this._styleElement=document.createElement("style"))):new hb(a)}var ib={readyFuncs:[]};Object.defineProperty(a,"instance",{get:function(){return ib.global}}),a.fallback=function(b){b.requestAnimationFrame||(b.requestAnimationFrame=function(a){setTimeout(a,30)},a.Mat3.prototype.applyContext2D=function(a){var b=this.elements;a.transform(b[0],b[1],b[2],b[3],b[4],b[5])}),b.Float32Array||(b.Float32Array=c(function(a){if(!(this instanceof arguments.callee))return new arguments.callee(a);var b,c,d=0;for("number"==typeof a?(b=[0],c=a):c=(b=a).length,d;c>d;d++)this[d]=b[d]||0},Array.prototype))},a.util={Object:m,Array:d,inherit:c},d.remove=h,d.add=e,d.first=g,d.findBy=k,d.safeFilter=l,d.sort=f,c(d,Array,{add:function(a){return e(this,a)},findBy:function(a,b,c){return k(this,a,b,c)},remove:function(a){return h(this,a)},safeFilter:function(a,b){return l(this,a,b)},first:function(a){return g(this,a)}}),m.on=n,m.emit=o,m.off=p,m.once=q,m.forEach=r,c(m,null,{on:function(a,b){return n(this,a,b)},emit:function(a,b,c){return o(this,a,b,c)},off:function(a,b){return p(this,a,b)},once:function(a,b){return q(this,a,b)},forEach:function(a,b,c){return r(this,a,b,c)}}),"undefined"!=typeof module&&module.exports?module.exports=a:"undefined"!=typeof define?define(function(){return a}):window&&(window.Flip=a),function(){var b=w.prototype={toString:function(){var a=[];return r(this,function(b,c){a.push(c.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})+":"+b)}),a.join(";")},withPrefix:function(a,b,c){var d=this;return(c||["-moz-","-ms-","-webkit-","-o-",""]).forEach(function(c){d[c+a]=b}),d},merge:function(a){return u(a)&&a!==this&&r(a,s,this),this},template:function(a){var b,c=arguments;return a.replace(/\{(\d+)\}/g,function(a,d){return void 0==(b=c[d])?a:bb(b)})}};a.stringTemplate=b.t=b.template}(),c(a.Render=x,a.util.Object,{update:function(){},render:function(){},invalid:function(){var a,b;(a=this._task)?a.invalid():(b=this.parent)&&b.invalid(),this._invalid=!0}}),a.RenderTask=y,y.EVENT_NAMES={RENDER_START:"renderStart",RENDER_END:"renderEnd",UPDATE:"update",BEFORE_CONSUME_EVENTS:"beforeConsumeEvents",AFTER_CONSUME_EVENTS:"afterConsumeEvents"},c(y,a.util.Object,{update:v,invalid:function(){var a;this._invalid=!0,(a=this._global)&&a.invalid()},toFinalize:function(a){return this._updateObjs.indexOf(a)>-1&&e(this._finalizeObjs,a)},add:function(a,b){return"update"==b?e(this._updateObjs,a):((a instanceof L||a instanceof x)&&e(this._updateObjs,a)&&(a._task=this),void this.invalid())},remove:function(a){a._task==this&&h(this._updateObjs,a)&&(a._task=null,this.toFinalize(a),this.invalid())}}),c(A,a.util.Object,{ticksPerSecond:1e3,stop:function(){this._isStop||(this._isStop=!0,this._lastStop=Date.now())},start:function(){this._isStop&&(this._isStop=!1,this._stopTime+=Date.now()-this._lastStop)},move:function(){this._isStop||(this.last=this.now,this.now=Date.now()-this._startTime-this._stopTime)}}),c(B,x,{get percent(){return this.clock.value||0},set clock(a){var b=this._clock;if(a=a||null,b!=a){if(b&&a)throw Error("remove the animation clock before add a new one");this._clock=a,a?a.controller=this:b&&(b.controller=null)}},get clock(){return this._clock},get promise(){return this._promise||(this._promise=E(this))},get finished(){return this._finished},get id(){return this._id||(this._id=pb("Animation"+this.type)),this._id},get elements(){return a.$(this.selector)},init:function(){this._promise=null,this._canceled=this._finished=!1,this.invalid()},reset:function(a){var b;return(b=this.clock)&&b.reset(1),a||this.init(),this},use:function(a){return I(this,a),this},param:function(a,b,c){return u(a)?F(a,this[b?"_immutable":"_variable"]):"string"==typeof a&&(this[c?"_immutable":"_variable"][a]=b),this},transform:function(){var a=this._matCallback;return r(J(arguments),function(b,c){eb(c,a,b)}),this},css:function(){var a=this._cssCallback;return r(J(arguments),function(b,c){eb(c,a,b)}),this},update:function(a){Y(this,a)},render:function(a){Z(this,a)},invalid:function(){this._task&&this._task.invalid()},finalize:function(){var a;return(a=this._task)?(this._ltName=a.name,a.toFinalize(this)):this._canceled||(this.reset(1),this.emit(jb.FINALIZE)),this},getStyleRule:function(){return fb(this)},start:function(){return C(this),this._canceled?this.restart():D(this,"start")},resume:function(a){return D(this,"resume",jb.RESUME,a)},pause:function(a){return D(this,"pause",jb.PAUSE,a)},cancel:function(a){var b;return this._canceled||this._finished||((b=this._task)&&(this._ltName=b.name),this._canceled=!0,this.emit(jb.CANCEL,a),this.finalize()),this},restart:function(a){return C(this,a),this.clock.reset(),this.init(),this.start()},then:function(a,b){return this.promise.then(a,b)}});var jb=B.EVENT_NAMES=Object.seal({UPDATE:"update",FINALIZE:"finalize",RENDER:"render",FINISH:"finish",CANCEL:"cancel",PAUSE:"pause",RESUME:"resume"});B.createOptProxy=function(a,c,d){return a=b(a),a.proxy.clock||a("clock",new L(a)),a("selector",c),a("persistAfterFinished",d),a},G.createOptProxy=function(a,c,d,e){return a=b(a),a("autoStart",c,"taskName",d,"renderGlobal",e),a},a.animate=G,a.css=function(a,b){function c(a,b){var c=db(ab(a),b,"\n",1);c&&d.push(c)}var d=[];if(2==arguments.length)c(b,a);else{if(!u(a))throw Error("argument error");r(a,c)}return ib.global.immediate(d.join("\n"))},a.transform=function(a,b){function c(a,b){var c;c=t(a)?a(c=new O)||c:a instanceof O?a:new O(a),d[b]=c}var d={},e=[];if(2==arguments.length)c(b,a);else{if(!u(a))throw Error("argument error");r(a,c)}return r(d,function(a,b){e.push(b,"{","transform:"+a,"}")}),ib.global.immediate(e.join("\n"))},a.animation=function(){function a(e){var f,g,h=e.name;return f=e.beforeCallBase||d,g=function(a){if(!(this instanceof g))return new g(a);var c=b(a);f.apply(this,[c,a]),B.call(this,a),(e.afterInit||v).call(this,c,a)},h&&(a[h]=g,g.name=h),c(g,B.prototype,{type:e.name,use:function(a){return I(this,e,a)}}),g}function d(a){return a}return a}(),I.pros=["transform","css","on","once"],a.Animation=B,a.Clock=L;var kb=L.EVENT_NAMES=Object.seal({UPDATE:"update",INIT:"init",ITERATE:"iterate",START:"start",REVERSE:"reverse",TICK:"tick",FINISH:"finish",FINALIZE:"finalize",CONTROLLER_CHANGE:"controllerChange"});c(L,m,{get controller(){return this._controller||null},set controller(a){var b=this.controller;a=a||null,b!==a&&(this._controller=a,this.emit(kb.CONTROLLER_CHANGE,{before:b,after:a,clock:this}))},get started(){return-1!==this._startTime},get finished(){return this._finished},get paused(){return this._paused},get ease(){return this._tf},set ease(a){var b;(t(b=a)||(b=L.EASE[a]))&&(this._tf=b)},start:function(){return 0==this.t?(this.reset(0,1),!(this._finished=!1)):!1},reverse:function(){return 1==this.t?(this.reset(0,1,1,1,1),!0):!1},restart:function(){return this.t=0,this.start()},reset:function(a,b,c,d,e,f){return 0==arguments.length?this.reset(0,0,0,0):(this._startTime=-1,b||(this.i=this.iteration||1),this._delayed=!!c,this.d=!e,void 0!==d&&(this.t=this.value=d?1:0),this._paused=!!f,this._finished=!!a,this)},finish:function(a){this.emit(kb.FINISH,a),this.reset(1,1,1),this._finished=!0},end:function(a){this.autoReverse?this.reverse(a):this.iterate(a)},iterate:function(a){--this.i>0||this.infinite?this.reset(0,1,1,0):this.finish(a)},pause:function(){this._paused||(this._pausedTime=-1,this._pausedDur=0,this._paused=!0)},resume:function(){this._paused&&this._startTime>0&&(this._startTime+=this._pausedDur,this._paused=!1)},finalize:function(){var a;(a=this._task)?a.toFinalize(this):(this.reset(1),this.emit(kb.FINALIZE))},update:function(a){var b;this.finished&&(b=this._task)?b.toFinalize(this):(N(a.clock=this,a),a.clock=null)}}),r(kb,function(a,b){Object.defineProperty(this,"on"+a,{set:function(a){this.on(kb[b],a)}})},L.prototype),L.createOptProxy=function(a,c,d,e,f,g,h){var i=b(a);return i("duration",c,"ease",d,"infinite",e,"iteration",f,"autoReverse",g,"delay",h),i},a.EASE=L.EASE=function(){var a={linear:function(a){return a},zeroStep:function(a){return 0>=a?0:1},halfStep:function(a){return.5>a?0:1},oneStep:function(a){return a>=1?1:0},random:function(){return Math.random()},randomLimit:function(a){return Math.random()*a}},b=Math.pow,c=Math.PI;return function(b){r(b,function(b,c){var d=b;a[c+"In"]=d,a[c+"Out"]=function(a){return 1-d(1-a)},a[c+"InOut"]=function(a){return.5>a?d(2*a)/2:1-d(-2*a+2)/2}})}({back:function(a){return a*a*(3*a-2)},elastic:function(a){return 0===a||1===a?a:-b(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*c/15)},sine:function(a){return 1-Math.cos(a*c/2)},circ:function(a){return 1-Math.sqrt(1-a*a)},cubic:function(a){return a*a*a},expo:function(a){return 0==a?0:b(2,10*(a-1))},quad:function(a){return a*a},quart:function(a){return b(a,4)},quint:function(a){return b(a,5)},bounce:function(a){for(var c,d=4;a<((c=b(2,--d))-1)/11;);return 1/b(4,3-d)-7.5625*b((3*c-2)/22-a,2)}}),Object.freeze(a)}(),function(a){function b(a,b){var c=[],d=b||document;return a&&a.split(",").forEach(function(a){c.push.apply(c,c.slice.apply(d.querySelectorAll(a)))}),c}function c(a,b){return(b||document).querySelector(a)}a.$$=b,a.$=c,document.addEventListener("DOMContentLoaded",function(){var b=ib.readyFuncs;ib.global.init(),ib.readyFuncs=null,b.forEach(function(b){b(a)})})}(a);var lb=Math.sin,mb=Math.cos,nb=Math.tan,ob=function(){function a(a){return(+a).toFixed(5)}var b=[0,1,3,4,6,7];return function(c){return b.map(function(b){return a(c[b])})}}();a.Mat3=O,O.prototype={print:function(){for(var a=this.elements,b=[],c=0;3>c;c++){for(var d=0;3>d;d++)b.push(a[d+3*c].toFixed(2));b.push("\n")}return b.join(" ")},reset:function(a){return this.elements=new Float32Array(a),this},set:function(a,b,c){return this.elements[3*a+b]=c,this},concat:function(a){var b=a instanceof O?a.elements:a;return Q(this,b)},axonProject:function(a,b){a=a||0,b=b||0;var c=mb(a),d=lb(a),e=mb(b),f=lb(b);return Q(this,[e,d*f,0,0,c,0,f,-e*d,0],1)},obliqueProject:function(a,b){b=b||0,a=a||0;var c=1/nb(a),d=lb(b)*c,e=mb(b)*c;return Q(this,[1,0,0,0,1,0,e,d,0],1)},toString:function(){return"matrix("+ob(this.elements).join(",")+")"},applyContext2D:function(a){return a.transform.apply(a,ob(this.elements)),this},clone:function(){return new O(this.elements)},scale:function(a,b){return Q(this,[P(a,1),0,0,0,P(b,1),0,0,0,1])},skew:function(a,b){return Q(this,[1,nb(a),0,nb(b||0),1,0,0,0,1])},transform:function(a,b,c,d,e,f){return Q(this,[a,c,0,b,d,0,e||0,f||0,1])},translate:function(a,b,c){return Q(this,[1,0,0,0,1,0,a||0,b||0,c||0])},flip:function(a,b){var c=lb(a),d=mb(a);return Q(this,b?[1,0,0,-c,d,0,0,0,1]:[d,c,0,0,1,0,0,0,1])},rotate:function(a){return this.rotateZ(a)},rotateX:function(a){var b=lb(a),c=mb(a);return Q(this,[1,0,0,0,c,b,0,-b,c])},rotateY:function(a){var b=lb(a),c=mb(a);return Q(this,[c,0,-b,0,1,0,b,0,c])},rotateZ:function(a){var b=lb(a),c=mb(a);return Q(this,[c,b,0,-b,c,0,0,0,1])}},function(a){function b(a){l?a():setTimeout(a,0)}function c(a){return this instanceof c?(this.then=a.then,void(this.get=a.get)):new c(a)}function d(a){if(a instanceof B)return a.promise;if(a instanceof Array)return g.all(a.map(d));if(j(a))return a;throw Error("cannot cast to promise")}function e(a){return j(a)?a:new c({then:function(b){try{return e(d(i(b(a))))}catch(c){return f(c)}},get:function(b){return b?a[b]:a}})}function f(a){return j(a)?a:new c({then:function(b,c){try{return e(c(a))}catch(d){return f(d)}}})}function g(a){function d(a){try{k(i(a))}catch(b){k(void 0,b)}}function j(a){k(void 0,a||new Error(""))}function k(a,c){if(!n){m=void 0==c?e(a):f(c),n=!0;for(var d=0,g=o.length;g>d;d++)b(function(a,b){return function(){var c=m.then.apply(m,a);b&&c.then.apply(c,b)}}(o[d],p[d]));o=p=void 0}}function l(a,b){p.push([a,b])}if(!(this instanceof g))return new g(a);var m,n,o=[],p=[];return"function"!=typeof a?i(a):(a(d,j),new c({then:function(a,c){var d=h(a,function(a){return a}),e=h(c,function(a){throw a});return m?(b(function(){m.then(d,e)}),new g(function(a){m.then(a)})):(o.push([d,e]),new g(function(a,b){l(a,b)}))},get:function(a){return m?m.get(a):void 0}}))}function h(a,b){var c;return"object"==(c=typeof a)?function(){return a}:"function"===c?a:b}function i(b){var c,d;if(m){if(b instanceof B)return b._finished?b:b.promise;if("object"==(c=typeof b))return j(b)?b:b instanceof Array?b.map(i):(d=a.animate(b),d.promise);if("function"==typeof c)return i(b());throw Error("cannot cast to animation")}return b}function j(a){return a instanceof c}function k(a){return new g(function(b,c){function d(a,d,h){if(!h)try{g[d]=a instanceof B?a:i(a)}catch(j){h=j}h&&(e=!0,g[d]=h),1==f?e?c(g):b(g):f--}var e,f,g=new Array(f=a.length);a.forEach(function(a,b){a.then(function(a){d(a,b)},function(a){d(a,b,!0)})})})}var l,m=!0;g.all=k,g.defer=function(){var a={};return a.promise=g(function(b,c){a.resolve=b,a.reject=c}),a},g.option=function(a){a&&(m=!!a.acceptAnimationOnly,l=!!a.sync)},ib.Promise=a.Promise=g}(a),a.RenderGlobal=hb,hb.EVENT_NAMES={FRAME_START:"frameStart",FRAME_END:"frameEnd",UPDATE:"update"},c(hb,a.util.Object,{get defaultTask(){var a=this._defaultTaskName,b=this._tasks[a];return b||this.add(b=new y(a)),b},getTask:function(a,b){if(!a)return this.defaultTask;var c=this._tasks[a];return!c&&b&&(c=new y(a),this.add(c)),c},add:function(a){var b,c;if(a instanceof y){if(!(b=a.name))throw Error("task must has a name");if((c=this._tasks).hasOwnProperty(b))throw Error("contains same name task");if(c[b]=a)return a._global=this,a.timeline.start(),this.invalid()}else if(a instanceof B||a instanceof L)return this.defaultTask.add(a);return!1},immediate:function(a){var b,c=this._persistStyles,d=pb("immediateStyle"),e=this;return c[d]=a,b=function(){var a=c[d];return delete c[d],e._persistStyle=!1,a},b.id=d,this._persistStyle=!1,b},refresh:function(){this._foreceRender=!0},init:function(){if("object"==typeof window){var b=document.head,c=this;this._styleElement.parentNode||(b.appendChild(this._styleElement),b.appendChild(this._persistElement)),a.fallback(window),window.addEventListener("resize",function(){c.refresh()}),this.loop()}this.init=function(){console.warn("The settings have been initiated,do not init twice")}},invalid:function(){return this._invalid=!0},loop:function(a){R(this),window.requestAnimationFrame(this.loop.bind(this),a||window.document.body)},apply:function(){if(!this._persistStyle){var a=[];r(this._persistStyles,function(b){a.push(b)}),this._persistElement.innerHTML=a.join("\n"),this._persistStyle=!0}},createRenderState:function(){return{global:this,task:null,styleStack:[],forceRender:this._foreceRender}}}),ib.global=new hb;var pb=function(a){return function(b){return a[b]||(a[b]=1),a[b]++}}({})}();
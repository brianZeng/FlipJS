<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>友谊卡</title>
    <script src="../bin/flip.js"></script>
    <style>
        main{
            min-width: 320px;
            max-width: 420px;
            height: 100%;
            //margin: 0 auto;
        }
        .front-content p{
            color:#DDD;
            font: 1.8em  bolder ;
            top: 7%;
            left: 10%;
            margin: 0;
            position: relative;
        }
        body{
            margin:  0;
            background: #000000;
        }
    </style>
</head>
<body>
<main>
    <div class="flip">
        <div class="front">
            <img src="../images/card_front.jpg" >
            <div class="front-content"><p>友谊の见证！</p></div>
        </div>
        <div class="back">
            <img src="../images/card_back.jpg" >
        </div>

    </div>
</main>

<script>
    Flip(function(){
        var animation=Flip.animate('flip',{selector:'.flip',angle:Math.PI*6,duration:0.1,keepWhenFinished:1})
                .css( '& img,& .front-content', {
                    position:'absolute',
                    width:document.documentElement.clientWidth+'px',
                    height:document.documentElement.clientHeight+'px'
                })
                .css({position:'relative'})
                .css('& >.front',function(css){
                    css.display=this.front?'block':'none';
                }).css('&>.back',function(css){
                    css.display=(!this.front)?'block':'none';
                }).on('update',function(){
                    var angle=(this.clock.value*this.angle),PI2=Math.PI*2;
                    while(angle>PI2)angle-=PI2;
                    this.front=angle<Math.PI/2||angle>Math.PI*1.5;
                });
        animation.start();
    })
</script>
</body>
</html>